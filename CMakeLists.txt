project(granatier)

option(GRANATIER_USE_GLUON_SOUND_BACKEND "Enable compilation with GluonAudio as sound backend")

if(GRANATIER_USE_GLUON_SOUND_BACKEND)
    macro_optional_find_package(GluonAudio QUIET)
    if(GLUONAUDIO_FOUND)
        if(GLUON_VERSION_MAJOR EQUAL 0 AND GLUON_VERSION_MINOR EQUAL 70)
            set(GRANATIER_GLUON_AUDIO TRUE)
            include_directories(${GLUON_AUDIO_INCLUDES})
            ADD_DEFINITIONS(-DGRANATIER_USE_GLUON)
        else(GLUON_VERSION_MAJOR EQUAL 0 AND GLUON_VERSION_MINOR EQUAL 70)
            message(WARNING "Gluon was found, but the version is not supported because of possibel API changes! Using Phonon instead!")
        endif(GLUON_VERSION_MAJOR EQUAL 0 AND GLUON_VERSION_MINOR EQUAL 70)
    else(GLUONAUDIO_FOUND)
        message(WARNING "Gluon was not found! Using Phonon instead!")
    endif(GLUONAUDIO_FOUND)
endif(GRANATIER_USE_GLUON_SOUND_BACKEND)
macro_log_feature(GRANATIER_GLUON_AUDIO "Gluon" "Free and Open Source framework for creating and distributing games" "http://gluon.gamingfreedom.org/" FALSE "0.70" "Granatier uses GluonAudio for sound output if available. GluonAudio provides a better sound experience than Phonon for games, but there is no stable release of Gluon, yet. The current supported version is 0.70. If Gluon is not found, Phonon is used instead.")

add_subdirectory(themes) 
add_subdirectory(sounds)
add_subdirectory(pictures)
add_subdirectory(src)
add_subdirectory(arenas)
add_subdirectory(players)
